<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h2> Version 1
    <ul id="ul">
        <li class="li">Old Point</li>
        <li class="li">Old Point</li>
        <li class="li">Old Point</li>
        <li class="li">Old Point</li>
        <li class="li">Old Point</li>
    </ul>
    <button id="btn">Add new Point</button>
</h2>

<h2> Version 2 (event.target)
    <ul id="ulV2">
        <li class="liV2">Old Point</li>
        <li class="liV2">Old Point</li>
        <li class="liV2">Old Point</li>
        <li class="liV2">Old Point</li>
        <li class="liV2">Old Point</li>
    </ul>
    <button id="btnV2">Add new Point</button>

</h2>

<h2>
    Универсальное делегирование событий (event.target.closest)
    <ul id="ul3">
        <li>Point <i>one</i> point</li>
        <li>Point <i>two</i> point</li>
        <li>Point <i>three</i> point</li>
    </ul>
</h2>
</body>
<script>
    /*Version 1*/
    var li = document.getElementsByClassName('li');
    for (var i = 0; i < li.length; i++) {
        li[i].addEventListener('click', addSign);
    }
    function addSign() {
        this.innerHTML += '!';
    }

    var ul = document.getElementById('ul');
    var btn = document.getElementById('btn');

    btn.addEventListener('click', addNewLi);
    function addNewLi() {
        var newLi = document.createElement('li');
        newLi.innerHTML = 'New Li';
        newLi.addEventListener('click', addSign);
        ul.appendChild(newLi);
    }

    /*Version 2*/

    var ul2 = document.getElementById('ulV2');
    ul2.addEventListener('click', addSign2);
    function addSign2() {
        event.target.innerHTML += '!';
    }

    //event.target - это именно тот тег, в котором случился клик, в нашем случае это li.

    var btn2 = document.getElementById('btnV2');
    btn2.addEventListener('click', addli);
    function addli() {
        var li2 = document.createElement('li');
        li2.innerHTML = 'New Point';
        ul2.appendChild(li2);

    }

    /*Version 3*/
    var ul3 = document.getElementById('ul3');
    ul3.addEventListener('click', universalFunc);
    function universalFunc(event) {
        var li3 = event.target.closest('li');
        if (li3)/*проверяем, вдруг li-родителя вообще нет*/
        {
            li3.innerHTML += '!';
        }
    }


</script>
</html>


















