<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="style.css" rel="stylesheet">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

    <title>Title</title>
</head>
<body>
<nav class="nav-underline clearfix">
    <ul>
        <li class="active"><a href="#">lorem</a></li>
        <li><a href="#">Consectetur</a></li>
        <li><a href="#">Adipisicing</a></li>
        <li><a href="#">Consequuntur</a></li>
        <li><a href="#">Derspiciatis</a></li>
    </ul>
</nav>
</body>
<script type="text/javascript">
    $(document).ready(function () {

        //var
        var $nav = $('.nav-underline'),
            $line = $('<div>').appendTo($nav),
                //размещаем див внутри меню в конце
            $activeLi,
            lineWidth,
            liPos;


        //обновляем переменные по клику
        function refresh() {
            $activeLi = $nav.find('li.active');
            //найти переменную с классом active
            lineWidth = $activeLi.outerWidth();
            //узнать ширину найденного эл-та
            liPos = $activeLi.position().left;
            //получить позицию относит род эл-та(только координата по оси у)
        }

        refresh();

        $nav.css('position', 'relative');
        //чтобы линия была позиционирована относит меню

        function lineSet()
        //свойства линии
        {
            $line.css({
                'position': 'absolute',
                'background-color': '#ffffff',
                'bottom': '0',
                'height': '3px'
            }).animate({
                'left': liPos,
                //позиция линии должна соотв клику пользователя
                'width': lineWidth
                //ширина линии совпадает с шириной эл-та списка
            }, 200); //200-продолжит анимации
        }

        lineSet();

        $nav.find('li').on('click', function () {
            $activeLi.removeClass('active');
            //у активного эл-та удаляем класс
            $(this).addClass('active');
            //по эл-ту кот кликнули добавить класс
            refresh();
            //обновл переменные
            lineSet();
            //обновл настройки линии
        });
    });
</script>
</html>